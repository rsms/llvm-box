; LLVM_ROOT=$HOME/tmp/llvm-x86_64-macos-none bash myclang/build.sh
/Users/rsms/src/llvm/utils/c++ -L/Users/rsms/tmp/llvm-x86_64-macos-none/lib -Wl,-headerpad_max_install_names /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMWindowsManifest.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMWindowsDriver.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMXRay.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMLibDriver.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMDlltoolDriver.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMCoverage.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMLineEditor.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMWebAssemblyDisassembler.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMWebAssemblyAsmParser.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMWebAssemblyCodeGen.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMWebAssemblyDesc.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMWebAssemblyUtils.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMWebAssemblyInfo.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMRISCVDisassembler.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMRISCVAsmParser.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMRISCVCodeGen.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMRISCVDesc.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMRISCVInfo.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMAArch64Disassembler.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMAArch64AsmParser.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMAArch64CodeGen.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMAArch64Desc.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMAArch64Utils.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMAArch64Info.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMARMDisassembler.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMARMAsmParser.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMARMCodeGen.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMARMDesc.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMARMUtils.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMARMInfo.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMX86TargetMCA.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMX86Disassembler.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMX86AsmParser.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMX86CodeGen.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMX86Desc.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMX86Info.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMOrcJIT.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMMCJIT.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMJITLink.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMInterpreter.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMExecutionEngine.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMRuntimeDyld.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMOrcTargetProcess.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMOrcShared.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMDWP.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMDebugInfoGSYM.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMOption.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMObjectYAML.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMObjCopy.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMMCA.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMMCDisassembler.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMLTO.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMPasses.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMCFGuard.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMCoroutines.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMObjCARCOpts.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMipo.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMVectorize.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMLinker.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMInstrumentation.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMFrontendOpenMP.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMFrontendOpenACC.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMExtensions.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMDWARFLinker.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMGlobalISel.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMMIRParser.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMAsmPrinter.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMSelectionDAG.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMCodeGen.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMIRReader.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMAsmParser.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMInterfaceStub.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMFileCheck.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMFuzzMutate.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMTarget.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMScalarOpts.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMInstCombine.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMAggressiveInstCombine.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMTransformUtils.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMBitWriter.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMAnalysis.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMProfileData.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMSymbolize.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMDebugInfoPDB.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMDebugInfoMSF.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMDebugInfoDWARF.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMObject.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMTextAPI.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMMCParser.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMMC.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMDebugInfoCodeView.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMBitReader.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMFuzzerCLI.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMCore.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMRemarks.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMBitstreamReader.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMBinaryFormat.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMTableGen.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMSupport.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libLLVMDemangle.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclang.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangAPINotes.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangAST.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangASTMatchers.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangAnalysis.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangAnalysisFlowSensitive.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangAnalysisFlowSensitiveModels.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangBasic.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangCodeGen.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangCrossTU.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangDependencyScanning.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangDirectoryWatcher.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangDriver.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangDynamicASTMatchers.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangEdit.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangExtractAPI.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangFormat.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangFrontend.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangFrontendTool.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangHandleCXX.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangHandleLLVM.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangIndex.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangIndexSerialization.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangInterpreter.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangLex.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangParse.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangRewrite.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangRewriteFrontend.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangSema.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangSerialization.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangStaticAnalyzerCheckers.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangStaticAnalyzerCore.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangStaticAnalyzerFrontend.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangSupport.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangTooling.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangToolingASTDiff.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangToolingCore.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangToolingInclusions.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangToolingRefactoring.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangToolingSyntax.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libclangTransformer.a /Users/rsms/tmp/llvm-x86_64-macos-none/lib/libz.a main.c.o driver.cc.o driver_cc1_main.cc.o driver_cc1as_main.cc.o -o myclang/myclang

ld64.lld: error: undefined symbol: clang::driver::Driver::ExecuteCompilation(clang::driver::Compilation&, llvm::SmallVectorImpl<std::__2::pair<int, clang::driver::Command const*>>&)
>>> referenced by driver.cc.o:(symbol _clang_main+0x1184)

ld64.lld: error: undefined symbol: clang::driver::Driver::Driver(llvm::StringRef, llvm::StringRef, clang::DiagnosticsEngine&, std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>>, llvm::IntrusiveRefCntPtr<llvm::vfs::FileSystem>)
>>> referenced by driver.cc.o:(symbol _clang_main+0xc9d)

ld64.lld: error: undefined symbol: llvm::Regex::sub(llvm::StringRef, llvm::StringRef, std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>>*) const
>>> referenced by driver.cc.o:(symbol ApplyOneQAOverride(llvm::raw_ostream&, llvm::SmallVectorImpl<char const*>&, llvm::StringRef, std::__2::set<std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>>, std::__2::less<std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>>>, std::__2::allocator<std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>>>>&)+0x41b)

ld64.lld: error: undefined symbol: clang::CompilerInstance::CompilerInstance(std::__2::shared_ptr<clang::PCHContainerOperations>, clang::InMemoryModuleCache*)
>>> referenced by driver_cc1_main.cc.o:(symbol cc1_main(llvm::ArrayRef<char const*>, char const*, void*)+0x78)

ld64.lld: error: undefined symbol: llvm::TargetRegistry::lookupTarget(std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>> const&, std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>>&)
>>> referenced by driver_cc1_main.cc.o:(symbol PrintSupportedCPUs(std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>>)+0x28)
>>> referenced by driver_cc1as_main.cc.o:(symbol ExecuteAssemblerImpl((anonymous namespace)::AssemblerInvocation&, clang::DiagnosticsEngine&)+0x42)

ld64.lld: error: undefined symbol: llvm::createPrintFunctionPass(llvm::raw_ostream&, std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>> const&)
>>> referenced by driver_cc1_main.cc.o:(symbol (anonymous namespace)::ForcePassLinking::ForcePassLinking()+0x3bd)

ld64.lld: error: undefined symbol: llvm::createPrintModulePass(llvm::raw_ostream&, std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>> const&, bool)
>>> referenced by driver_cc1_main.cc.o:(symbol (anonymous namespace)::ForcePassLinking::ForcePassLinking()+0x38b)

ld64.lld: error: undefined symbol: llvm::createCFGSimplificationPass(llvm::SimplifyCFGOptions, std::__2::function<bool (llvm::Function const&)>)
>>> referenced by driver_cc1_main.cc.o:(symbol (anonymous namespace)::ForcePassLinking::ForcePassLinking()+0xd8)

ld64.lld: error: undefined symbol: llvm::opt::OptTable::findNearest(llvm::StringRef, std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>>&, unsigned int, unsigned int, unsigned int) const
>>> referenced by driver_cc1as_main.cc.o:(symbol (anonymous namespace)::AssemblerInvocation::CreateFromArgs((anonymous namespace)::AssemblerInvocation&, llvm::ArrayRef<char const*>, clang::DiagnosticsEngine&)+0x29e)

ld64.lld: error: undefined symbol: llvm::MCContext::addDebugPrefixMapEntry(std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>> const&, std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>> const&)
>>> referenced by driver_cc1as_main.cc.o:(symbol ExecuteAssemblerImpl((anonymous namespace)::AssemblerInvocation&, clang::DiagnosticsEngine&)+0xb8a)

ld64.lld: error: undefined symbol: llvm::sys::RemoveFileOnSignal(llvm::StringRef, std::__2::basic_string<char, std::__2::char_traits<char>, std::__2::allocator<char>>*)
>>> referenced by driver_cc1as_main.cc.o:(symbol getOutputStream(llvm::StringRef, clang::DiagnosticsEngine&, bool)+0x7d)

ld64.lld: error: undefined symbol: llvm::createAsmStreamer(llvm::MCContext&, std::__2::unique_ptr<llvm::formatted_raw_ostream, std::__2::default_delete<llvm::formatted_raw_ostream>>, bool, bool, llvm::MCInstPrinter*, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, bool)
>>> referenced by driver_cc1as_main.cc.o:(symbol llvm::Target::createAsmStreamer(llvm::MCContext&, std::__2::unique_ptr<llvm::formatted_raw_ostream, std::__2::default_delete<llvm::formatted_raw_ostream>>, bool, bool, llvm::MCInstPrinter*, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, bool) const+0xa6)

ld64.lld: error: undefined symbol: llvm::createDXContainerStreamer(llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, bool)
>>> referenced by driver_cc1as_main.cc.o:(symbol llvm::Target::createMCObjectStreamer(llvm::Triple const&, llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, llvm::MCSubtargetInfo const&, bool, bool, bool) const+0x401)

ld64.lld: error: undefined symbol: llvm::createSPIRVStreamer(llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, bool)
>>> referenced by driver_cc1as_main.cc.o:(symbol llvm::Target::createMCObjectStreamer(llvm::Triple const&, llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, llvm::MCSubtargetInfo const&, bool, bool, bool) const+0x392)

ld64.lld: error: undefined symbol: llvm::createXCOFFStreamer(llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, bool)
>>> referenced by driver_cc1as_main.cc.o:(symbol llvm::Target::createMCObjectStreamer(llvm::Triple const&, llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, llvm::MCSubtargetInfo const&, bool, bool, bool) const+0x323)

ld64.lld: error: undefined symbol: llvm::createWasmStreamer(llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, bool)
>>> referenced by driver_cc1as_main.cc.o:(symbol llvm::Target::createMCObjectStreamer(llvm::Triple const&, llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, llvm::MCSubtargetInfo const&, bool, bool, bool) const+0x2a3)

ld64.lld: error: undefined symbol: llvm::createELFStreamer(llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, bool)
>>> referenced by driver_cc1as_main.cc.o:(symbol llvm::Target::createMCObjectStreamer(llvm::Triple const&, llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, llvm::MCSubtargetInfo const&, bool, bool, bool) const+0x234)

ld64.lld: error: undefined symbol: llvm::createMachOStreamer(llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, bool, bool, bool)
>>> referenced by driver_cc1as_main.cc.o:(symbol llvm::Target::createMCObjectStreamer(llvm::Triple const&, llvm::MCContext&, std::__2::unique_ptr<llvm::MCAsmBackend, std::__2::default_delete<llvm::MCAsmBackend>>&&, std::__2::unique_ptr<llvm::MCObjectWriter, std::__2::default_delete<llvm::MCObjectWriter>>&&, std::__2::unique_ptr<llvm::MCCodeEmitter, std::__2::default_delete<llvm::MCCodeEmitter>>&&, llvm::MCSubtargetInfo const&, bool, bool, bool) const+0x1c5)

ld64.lld: error: undefined symbol: llvm::raw_fd_ostream::raw_fd_ostream(llvm::StringRef, std::__2::error_code&, llvm::sys::fs::OpenFlags)
>>> referenced by driver_cc1as_main.cc.o:(symbol std::__2::__unique_if<llvm::raw_fd_ostream>::__unique_single std::__2::make_unique[abi:v15007]<llvm::raw_fd_ostream, llvm::StringRef&, std::__2::error_code&, llvm::sys::fs::OpenFlags>(llvm::StringRef&, std::__2::error_code&, llvm::sys::fs::OpenFlags&&)+0x4c)

ld64.lld: error: undefined symbol: std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>::basic_string(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>> const&)
>>> referenced by /tmp/lto.tmp:(symbol llvm::ErrorInfoBase::message() const+0x6f)
>>> referenced by /tmp/lto.tmp:(symbol updateTripleOSVersion(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char>>)+0x3b0)
>>> referenced by /tmp/lto.tmp:(symbol llvm::sys::getProcessTriple()+0xff)
>>> referenced 2221 more times

ld64.lld: error: too many errors emitted, stopping now (use --error-limit=0 to see all errors)
clang-15: error: linker command failed with exit code 1 (use -v to see invocation)
